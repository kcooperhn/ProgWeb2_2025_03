<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Quiniela JSF Primefaces</title>
</h:head>
<h:body>
    <h:form id="form1">
       <p:megaMenu orientation="horizontal" autoDisplay="false">
          <p:submenu label="Resultados" icon="pi pi-fw pi-users">
             <p:column>
                <p:submenu label="Resultados pasados">
                   <p:menuitem value="Registrar PredicciÃ³n" action="prediccion.xhtml"/>
                </p:submenu>
                <p:submenu label="Resultados en vivo">
                   <p:menuitem value="Ver en Vivo"/>
                </p:submenu>
             </p:column>
          </p:submenu>

          <p:submenu label="Partidos" icon="pi pi-fw pi-calendar">
             <p:column>
                <p:submenu label="Nuevos partidos">
                   <p:menuitem value="Registrar nuevo"/>
                </p:submenu>
                <p:submenu label="Partidos registrados">
                   <p:menuitem value="Partidos siguientes"/>
                   <p:menuitem value="Partidos anteriores"/>
                </p:submenu>
             </p:column>
          </p:submenu>

          <f:facet name="end">
             <div class="ui-input-icon-left mr-2">
                <i class="pi pi-fw pi-search" />
                <p:inputText placeholder="Buscar"/>
             </div>
             <p:button value="Salir" icon="pi pi-fw pi-sign-out" styleClass="ui-button-info" />
          </f:facet>
       </p:megaMenu>
        <p:growl id="growl" showDetail="false"/>

        <p:panel header="Registro de Partidos">
            <p:panelGrid columns="2" layout="grid" styleClass="ui-fluid">
                <p:outputLabel for="txtrival1" value="Equipo Local"/>
                <p:inputText id="txtrival1" placeholder="Equipo Local" value="#{PartidosBean.partido.rival1}"
                             required="true" requiredMessage="Debes de ingresar el nombre del equipo local"/>

                <p:outputLabel for="txtrival2" value="Equipo Visitante"/>
                <p:inputText id="txtrival2" placeholder="Equipo Visitante" value="#{PartidosBean.partido.rival2}"
                             required="true" requiredMessage="Debes de ingresar el nombre del equipo visitante"/>

                <p:outputLabel for="horarioPartido" value="Fecha y hora del partido"/>
                <p:datePicker id="horarioPartido" value="#{PartidosBean.partido.fechaHora}" mindate="#{PartidosBean.minDateTime}"
                              maxdate="#{PartidosBean.maxDateTime}" showButtonBar="true" timeInput="true"
                              required="true" requiredMessage="Debes de ingresar la fecha y hora del encuentro"/>
            </p:panelGrid>

            <p:commandButton value="Registrar Partido" styleClass="rounded-button"
                             update="growl,form1"
                             actionListener="#{PartidosBean.registrarPartido}"/>
        </p:panel>

        <p:dataTable id="partidosTable" var="partido" value="#{PartidosBean.obtenerPartidos()}"
                     style="margin-top: 20px;">
            <f:facet name="header">
                Listado de Partidos
            </f:facet>
            <p:column headerText="Equipo Local">
                <h:outputText value="#{partido.rival1}" />
            </p:column>
            <p:column headerText="Equipo Visitante">
                <h:outputText value="#{partido.rival2}" />
            </p:column>
            <p:column headerText="Fecha y Hora">
                <h:outputText value="#{partido.fechaHora}"/>
            </p:column>
        </p:dataTable>

    </h:form>
</h:body>
</html>